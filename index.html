<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bioloâ€‘Gio | Enciclopedia giocosa degli animali</title>
  <meta name="description" content="Bioloâ€‘Gio: un sito semplice e veloce per scoprire animali e curiositÃ ." />
  <style>
    :root{
      --bg:#f8fafc;
      --panel:#ffffff;
      --muted:#475569;
      --text:#0f172a;
      --brand:#06b6d4;
      --brand-2:#8b5cf6;
      --accent:#10b981;
      --danger:#ef4444;
      --card:#ffffff;
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
      color:var(--text); background:
        radial-gradient(1200px 800px at 10% -10%, #cffafe, transparent),
        radial-gradient(900px 700px at 110% 0%, #e9d5ff, transparent),
        linear-gradient(180deg, #fafafa, #f1f5f9 60%),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160" opacity="0.06"><g fill="none" stroke="%231f2937" stroke-width="1"><path d="M0 80c40-40 120-40 160 0"/><path d="M0 120c40-40 120-40 160 0"/><path d="M0 40c40-40 120-40 160 0"/></g><g fill="none" stroke="%231f2937" stroke-width="1"><path d="M20 160c20-20 60-20 80 0"/><path d="M60 0c20 20 60 20 80 0"/></g></svg>');
      background-attachment:fixed;
      line-height:1.6;
    }
    .toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:var(--brand);color:white;padding:10px 18px;border-radius:12px;box-shadow:0 4px 20px #0005;opacity:0;pointer-events:none;transition:opacity .4s,transform .4s;z-index:9999}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-10px)}
  </style>
</head>
<body>
  <div id="toast" class="toast"></div>
  <main class="wrap">
    <section class="panel pad" id="controls">
      <div class="controls">
        <label class="search">
          <input id="q" placeholder="Cerca per nome, habitat, dietaâ€¦" autocomplete="off" />
          <span class="icon">ðŸ”Ž</span>
        </label>
        <label>
          <select id="filterClass">
            <option value="">Tutte le classi</option>
            <option>Mammiferi</option>
            <option>Uccelli</option>
            <option>Rettili</option>
            <option>Anfibi</option>
            <option>Pesci</option>
            <option>Invertebrati</option>
          </select>
        </label>
      </div>
      <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap">
        <button class="btn" id="btnRandom">ðŸŽ² Animale casuale</button>
        <span class="meta">Premi <kbd>R</kbd> per sceglierne uno a caso.</span>
      </div>
    </section>
    <section id="view"></section>
  </main>
  <script>
    const ANIMALS=[{name:"Panda gigante",scientificName:"Ailuropoda melanoleuca",class:"Mammiferi",emoji:"ðŸ¼",habitat:"Foreste di bambÃ¹, Cina"},{name:"Tigre del Bengala",scientificName:"Panthera tigris tigris",class:"Mammiferi",emoji:"ðŸ¯",habitat:"Foreste e praterie"},{name:"Polpo comune",scientificName:"Octopus vulgaris",class:"Invertebrati",emoji:"ðŸ™",habitat:"Mari temperati e tropicali"}];
    const slug=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,'-');
    ANIMALS.forEach(a=>a.id=slug(a.name));
    const qs=s=>document.querySelector(s);
    const state={q:"",cls:""};

    function filteredItems(){return ANIMALS.filter(a=>!state.q||a.name.toLowerCase().includes(state.q.toLowerCase())).filter(a=>!state.cls||a.class===state.cls)}

    function cardTpl(a){return`<article class="card"><div class="thumb">${a.emoji}</div><h3>${a.name}</h3><i>${a.scientificName}</i></article>`}
    function listTpl(){return filteredItems().map(cardTpl).join('')||'<p>Nessun risultato.</p>'}
    function render(){qs('#view').innerHTML=listTpl()}

    function showToast(msg){const t=qs('#toast');t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),2000)}

    function goRandom(){const items=filteredItems();if(!items.length)return;const pick=items[Math.floor(Math.random()*items.length)];showToast(`Hai pescato: ${pick.name}!`)}

    qs('#q').addEventListener('input',e=>{state.q=e.target.value;render()})
    qs('#filterClass').addEventListener('change',e=>{state.cls=e.target.value;render()})
    qs('#btnRandom').addEventListener('click',goRandom)
    window.addEventListener('keydown',e=>{if(e.key.toLowerCase()==='r'){goRandom()}})
    render()
  </script>
</body>
</html>
